# Tracing Tools

This is a repo of tracing tools based on the STF trace format.

The tracing tools are built for RISC-V use, but can be augmented for
other architectures.

This repo contains the following:

1. Tools for dumping, analyzing the traces generated by various simulators

## Required Packages

Install all packages needed to build [stf_lib](https://github.com/sifive/stf_lib).

## Building

The [RISC-V toolchain](https://github.com/riscv/riscv-gnu-toolchain) is required to compile the tool binaries.

If you are using the trace-env Docker image, the toolchain will be found automatically:
```
mkdir release
cd release
cmake .. -DCMAKE_BUILD_TYPE=Release
make
```
Othwerwise, you'll need to provide define $RISCV_TOOLCHAIN to point to the build repository of the toolchain (not the install). Once you have the RISC-V toolchain, you can start a build of these tools:
```
mkdir release
cd release
cmake .. -DRISCV_TOOLCHAIN=/path/to/riscv-gnu-toolchain -DCMAKE_BUILD_TYPE=Release
make
```
Or for debug:
```
mkdir debug
cd debug
cmake .. -DRISCV_TOOLCHAIN=/path/to/riscv-gnu-toolchain -DCMAKE_BUILD_TYPE=Debug
make
```
**NOTE:** Your RISC-V toolchain is assumed to have been built in the top-level of the repo.
If you used a build directory, you will need to modify some of the paths in tools/disassembler.cmake.

Everything should build.
